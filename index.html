<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Race Visualizer</title>
  <style>
    body { margin: 0; font-family: 'Segoe UI', sans-serif; background: #1e1e2f; color: #f5f5f5; display: flex; flex-direction: column; align-items: center; }
    header { background: linear-gradient(135deg, #222 40%, #444); width: 100%; padding: 2rem 1rem; text-align: center; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6); }
    header h1 { margin: 0; font-size: 2.5rem; color: #ffd700; letter-spacing: 1px; }
    .container { width: 100%; max-width: 1200px; padding: 2rem; }
    .container h2 { width: 100%; text-align: left; margin: 2rem 0 1rem; color: #ffd700; border-bottom: 1px solid #444; padding-bottom: 0.3rem; }
    .course-group { display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 2rem; }
    .card { background: #2c2c3e; border-radius: 12px; padding: 1.5rem; text-align: center; width: 220px; transition: transform 0.2s ease, box-shadow 0.3s ease; box-shadow: 0 0 10px rgba(255, 255, 255, 0.05); }
    .card:hover { transform: translateY(-6px); box-shadow: 0 0 15px rgba(255, 215, 0, 0.4); }
    .card a { text-decoration: none; color: #ffd700; font-weight: bold; font-size: 1.1rem; }
    .value-tag, .big-ew-tag { margin-top: 8px; font-weight: bold; font-size: 0.95rem; }
    .value-tag { color: #00ff7f; }
    .big-ew-tag { color: #3399ff; }
    footer { margin-top: 3rem; font-size: 0.9rem; color: #888; text-align: center; padding-bottom: 2rem; }
    @media (max-width: 600px) { .card { width: 90%; } header h1 { font-size: 1.8rem; } }
  </style>
</head>
<body>
  <header>
    <h1>🏇 Race Visualizer Index</h1>
  </header>
  <div class="container">
    <h2>🏁 Finger_Lakes</h2>
    <div class="course-group">
      <div class="card"><a href="18-00_Finger_Lakes.html">18:00 Finger_Lakes</a></div>
      <div class="card"><a href="18-29_Finger_Lakes.html">18:29 Finger_Lakes</a></div>
      <div class="card"><a href="18-58_Finger_Lakes.html">18:58 Finger_Lakes</a></div>
      <div class="card"><a href="19-27_Finger_Lakes.html">19:27 Finger_Lakes</a></div>
      <div class="card"><a href="19-56_Finger_Lakes.html">19:56 Finger_Lakes</a></div>
      <div class="card"><a href="20-25_Finger_Lakes.html">20:25 Finger_Lakes</a></div>
      <div class="card"><a href="20-54_Finger_Lakes.html">20:54 Finger_Lakes</a></div>
      <div class="card"><a href="21-23_Finger_Lakes.html">21:23 Finger_Lakes</a></div>
    </div>

    <h2>🏁 Horseshoe_Indianapolis</h2>
    <div class="course-group">
      <div class="card"><a href="19-10_Horseshoe_Indianapolis.html">19:10 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="19-41_Horseshoe_Indianapolis.html">19:41 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="20-12_Horseshoe_Indianapolis.html">20:12 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="20-43_Horseshoe_Indianapolis.html">20:43 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="21-14_Horseshoe_Indianapolis.html">21:14 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="21-45_Horseshoe_Indianapolis.html">21:45 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="22-16_Horseshoe_Indianapolis.html">22:16 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="22-47_Horseshoe_Indianapolis.html">22:47 Horseshoe_Indianapolis</a></div>
      <div class="card"><a href="23-15_Horseshoe_Indianapolis.html">23:15 Horseshoe_Indianapolis</a></div>
    </div>

    <h2>🏁 Newbury</h2>
    <div class="course-group">
      <div class="card"><a href="18-45_Newbury.html">18:45 Newbury</a></div>
      <div class="card"><a href="19-15_Newbury.html">19:15 Newbury</a></div>
      <div class="card"><a href="19-45_Newbury.html">19:45 Newbury</a></div>
      <div class="card"><a href="20-15_Newbury.html">20:15 Newbury</a></div>
      <div class="card"><a href="20-50_Newbury.html">20:50 Newbury</a></div>
    </div>

    <h2>🏁 Newton_Abbot</h2>
    <div class="course-group">
      <div class="card"><a href="18-57_Newton_Abbot.html">18:57 Newton_Abbot</a></div>
      <div class="card"><a href="19-27_Newton_Abbot.html">19:27 Newton_Abbot</a></div>
      <div class="card"><a href="19-57_Newton_Abbot.html">19:57 Newton_Abbot</a></div>
      <div class="card"><a href="20-27_Newton_Abbot.html">20:27 Newton_Abbot</a></div>
      <div class="card"><a href="20-57_Newton_Abbot.html">20:57 Newton_Abbot</a></div>
    </div>

    <h2>🏁 Thistledown</h2>
    <div class="course-group">
      <div class="card"><a href="18-50_Thistledown.html">18:50 Thistledown</a></div>
      <div class="card"><a href="19-20_Thistledown.html">19:20 Thistledown</a></div>
      <div class="card"><a href="19-50_Thistledown.html">19:50 Thistledown</a></div>
      <div class="card"><a href="20-20_Thistledown.html">20:20 Thistledown</a></div>
      <div class="card"><a href="20-50_Thistledown.html">20:50 Thistledown</a></div>
      <div class="card"><a href="21-20_Thistledown.html">21:20 Thistledown</a></div>
    </div>
  </div>

  <footer>
    &copy; 2025 ScottyMelloty Racing Visualizer • All rights reserved
  </footer>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
      const link = card.querySelector('a');
      const href = link.getAttribute('href');

      fetch(href)
        .then(response => response.text())
        .then(html => {
          // 💰 Value detection (💰 inside any <td>)
          const hasValue = /<td[^>]*>[^<]*💰[^<]*<\/td>/i.test(html);

          // 🔵 Big E/W detection: <td class="undervalued">...</td>
          const hasBigEW = /<td[^>]*class=["'][^"']*\bundervalued\b[^"']*["']/i.test(html);

          if (hasValue) {
            const tag = document.createElement('div');
            tag.className = 'value-tag';
            tag.innerHTML = '🟢 Value';
            card.appendChild(tag);
          }

          if (hasBigEW) {
            const tag = document.createElement('div');
            tag.className = 'big-ew-tag';
            tag.innerHTML = '🔵 Big E/W';
            card.appendChild(tag);
          }
        })
        .catch(err => console.error('Fetch error:', href, err));
    });
  });
</script>





</body>
</html>
